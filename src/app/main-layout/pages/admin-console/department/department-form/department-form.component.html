

<nz-spin [nzSpinning]="loading">
<div style="height: 100%;">
  <form nz-form [formGroup]="validateForm" (ngSubmit)="submitForm(validateForm.value)">
    <nz-anchor [nzShowInkInFixed]="false">
      <nz-page-header>
        <nz-page-header-title>Department Setup</nz-page-header-title>
        <nz-page-header-extra>
          <button nz-button (click)="$event.preventDefault()">
            <i nz-icon nzType="folder-open"></i>
            Save as Draft
          </button>
          <button nz-button (click)="cancel($event);" nzType="primary" nzDanger>
            <i nz-icon nzType="close"></i>
            Cancel
          </button>
          <button nz-button nzType="primary" class="button-form" [disabled]="!validateForm.valid">
            <i nz-icon nzType="save"></i>
            Save & Exit
          </button>
        </nz-page-header-extra>
      </nz-page-header>
    </nz-anchor>

    <nz-card nzType="inner" nzTitle="{{title}}">
      <div nz-row [nzGutter]="24">
        <div nz-col [nzSpan]="10">
             <nz-form-item>
            <nz-form-label [nzSm]="10" [nzXs]="12"  nzRequired>Domain</nz-form-label>
              <nz-form-control  [nzSm]="10" [nzXs]="24" >
                <nz-select
                  nzShowSearch
                  nzAllowClear
                  formControlName="domain_id"
                  (ngModelChange)="domainSelect($event)"
                  nzPlaceHolder="Select Domain"
                >
                <nz-option *ngFor="let list of domainList" nzValue="{{list.domain_guid}}" nzLabel="{{list.domain_name}}" >
                </nz-option>
                </nz-select>
               </nz-form-control>
              </nz-form-item>

              <nz-form-item>
                <nz-form-label [nzSm]="10" [nzXs]="12" nzRequired>Prefix</nz-form-label>
                <nz-form-control [nzSm]="10" [nzXs]="24">
                  <nz-input-group>
                    <input type="text" [readonly]="true" nz-input formControlName="prefix" />
                  </nz-input-group>
                </nz-form-control>
              </nz-form-item>

                <nz-form-item>
                  <nz-form-label [nzSm]="10" [nzXs]="12" nzRequired>Department Name</nz-form-label>
                  <nz-form-control  [nzSm]="10" [nzXs]="24">
                    <nz-input-group>
                      <input type="text" nz-input formControlName="dept_name" placeholder="e.g. Office of the Municipal Mayor" />
                    </nz-input-group>
                  </nz-form-control>
                </nz-form-item>

                <nz-form-item>
                  <nz-form-label [nzSm]="10" [nzXs]="12" nzRequired>Department Code</nz-form-label>
                  <nz-form-control  [nzSm]="10" [nzXs]="24">
                    <nz-input-group>
                      <input type="text" nz-input formControlName="dept_code" placeholder="e.g. 030601" />
                    </nz-input-group>
                  </nz-form-control>
                </nz-form-item>

                <nz-form-item>
                  <nz-form-label [nzSm]="10" [nzXs]="12">Description</nz-form-label>
                  <nz-form-control  [nzSm]="10" [nzXs]="24">
                    <nz-input-group>
                      <input type="text" nz-input formControlName="short_desc"  placeholder="e.g. Mayor's Office"/>
                    </nz-input-group>
                  </nz-form-control>
                </nz-form-item>

                <nz-form-item>
                  <nz-form-label [nzSm]="10" [nzXs]="12" nzRequired>Type</nz-form-label>
                  <nz-form-control  [nzSm]="10" [nzXs]="24">
                    <nz-input-group>
                      <input type="text" nz-input formControlName="type" style="text-transform: uppercase;"  placeholder="e.g. DEPARTMENT"/>
                    </nz-input-group>
                  </nz-form-control>
                </nz-form-item>


              <ng-container formGroupName="dept_head">
              <nz-form-item>
              <nz-form-label [nzSm]="10" [nzXs]="12" >Department Head</nz-form-label>
               <nz-form-control  [nzSm]="10" [nzXs]="24" >
                  <nz-select
                    nzShowSearch
                    nzAllowClear
                    formControlName="head_employee_id"
                    nzPlaceHolder="Select Department Head"
                  >
                <nz-option *ngFor="let list of employeeList" nzValue="{{list.employee_id}}" nzLabel="{{list.employee_name}}" >
                </nz-option>
                </nz-select>
               </nz-form-control>
              </nz-form-item>

              <nz-form-item>
                <nz-form-label [nzSm]="10" [nzXs]="12">Asst Department Head</nz-form-label>
                 <nz-form-control  [nzSm]="10" [nzXs]="24" >
                    <nz-select
                      nzShowSearch
                      nzAllowClear
                      formControlName="asst_employee_id"
                      nzPlaceHolder="Select Assistant"
                    >
                  <nz-option *ngFor="let list of employeeList" nzValue="{{list.employee_id}}" nzLabel="{{list.employee_name}}" >
                  </nz-option>
                  </nz-select>
                 </nz-form-control>
                </nz-form-item>
  

              </ng-container>
  

        </div>
      </div>

    </nz-card>
  </form>
</div>
</nz-spin>
