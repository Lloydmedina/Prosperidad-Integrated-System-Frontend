<nz-spin nzTip="Gathering Information Data..." [nzSpinning]="isLoading" nzSize="large">
  <div style="height:100%;">
    <form nz-form [formGroup]="wccForm" (ngSubmit)="saveData(wccForm.value);$event.preventDefault()">
      <nz-anchor [nzShowInkInFixed]="false" >
        <nz-page-header>
          <nz-page-header-title>Women & Child Crisis Center - Incident Report Form</nz-page-header-title>
          <nz-page-header-extra>
            <button nz-button nzType="primary" (click)="cancel(); $event.preventDefault();" nzDanger>
              <i nz-icon nzType="close"></i>
              Cancel
            </button>
            <button nz-button nzType="primary"
            [disabled]="!wccForm.valid"
            >
              <i nz-icon nzType="save"></i>
              {{buttonTitle}}
            </button>
            <!-- <button nz-button nzType="primary"
            >
              <i nz-icon nzType="save"></i>
              {{buttonTitle}}
            </button> -->
          </nz-page-header-extra>
        </nz-page-header>
      </nz-anchor>

      <nz-tabset nzType="card" >
        <nz-tab nzTitle="Incident Report Form">
          <div>
          <!-- <div style="background: #ECECEC;padding:10px;"> -->
            <div nz-row [nzGutter]="24">
              <div nz-col [nzSpan]="10" style="padding: 10px;">
                <nz-card nzTitle="Client Information" [nzBordered]="false" >
                  <nz-descriptions [nzColumn]="1" nzBordered nzSize="small">
                    <nz-descriptions-item nzTitle="Name" [nzSpan]="1">
                      {{clientData?.client_name}}
                    </nz-descriptions-item>
                    <nz-descriptions-item nzTitle="Age" [nzSpan]="1">
                      {{clientData?.client_age}}
                    </nz-descriptions-item>
                    <nz-descriptions-item nzTitle="Address" [nzSpan]="1">
                      {{clientData?.client_address}}
                    </nz-descriptions-item>
                    <nz-descriptions-item nzTitle="Parent/Guardian" [nzSpan]="1">
                      {{clientData?.client_parent_name}}
                    </nz-descriptions-item>
                    <nz-descriptions-item nzTitle="Relation" [nzSpan]="1">
                      {{parentGuardianRelation}}
                    </nz-descriptions-item>
                  </nz-descriptions>
                </nz-card>
                <hr>
                <nz-collapse nzAccordion>
                  <nz-collapse-panel nzHeader="Addmission Details" nzActive>
                   <div>
                    <nz-divider nzOrientation="left" nzText="Correspondent:">
                    </nz-divider>
                    <p> {{clientData?.applicant_name}}</p>
                    <nz-divider nzOrientation="left" nzText="Reffered By:">
                    </nz-divider>
                    <p> {{clientData?.referral_pname}}</p>
                    <nz-divider nzOrientation="left" nzText="Date of Rescue:">
                    </nz-divider>
                    <p> {{clientData?.logs | date:'mediumDate'}}</p>
                    <nz-divider nzOrientation="left" nzText="Rescue Details:">
                    </nz-divider>
                    <p> {{clientData?.rescue_details}}</p>
                   </div>
                  </nz-collapse-panel>
                </nz-collapse>
              </div>

              <div nz-col [nzSpan]="14" class="box" >
                <nz-card nzTitle="Report Details" [nzBordered]="false" style="padding: 10px; height: 100%;" >
                  <nz-form-item>
                    <nz-form-control [nzSpan]="12" nzErrorTip="Please select case Tittle!" >
                      <p><i>Select Case</i></p>
                      <nz-input-group>
                        <nz-select #items style="width: 100%;"  nzPlaceHolder="Case Tittle"
                        formControlName="case_id"
                        (ngModelChange)="selectedCase($event)">
                          <p><i>Type of Incident and summary of Incideent</i></p>
                          <nz-option *ngFor="let lists of listOfCases" nzLabel="{{lists.case_tittle}}" nzValue="{{lists.case_id}}"

                          ></nz-option>
                        </nz-select>
                      </nz-input-group>
                    </nz-form-control>
                  </nz-form-item>
                  <nz-form-item>
                    <nz-form-control nzErrorTip="Please write something...">
                      <p><i>Type of Incident and summary of Incident</i></p>
                      <nz-input-group>
                        <textarea style="width: 100%;" formControlName="case_summary"
                        nz-input
                        rows="4"
                        ></textarea>
                      </nz-input-group>
                    </nz-form-control>
                  </nz-form-item>
                  <nz-form-item>
                    <nz-form-control nzErrorTip="Please write something...">
                      <nz-input-group>
                        <p><i>Action Taken</i></p>
                        <textarea style="width: 100%;"
                        formControlName="case_action_taken"
                        nz-input
                        rows="4"
                        ></textarea>
                      </nz-input-group>
                    </nz-form-control>
                  </nz-form-item>
                  <nz-form-item>
                    <nz-form-control nzErrorTip="Please write something...">
                      <nz-input-group>
                        <p><i>Rcommendations/ Suggestions</i></p>
                        <textarea style="width: 100%;"
                        formControlName="case_recommendation"
                        nz-input
                        rows="4"
                        ></textarea>
                      </nz-input-group>
                    </nz-form-control>
                  </nz-form-item>
                </nz-card>
              </div>
            </div>
          </div>
        </nz-tab>
      </nz-tabset>


    </form>

  </div>
</nz-spin>

