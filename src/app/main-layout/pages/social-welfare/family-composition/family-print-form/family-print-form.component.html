<div class="headerActions">
  <h3 style="float: left;"><i nz-icon nzType="file-done" nzTheme="outline" style="color: #1890FF"></i> Family Composition Form</h3>
  <button nz-button nzType="default" [useExistingCss]="true" printSectionId="report-section-empty" #print ngxPrint style="margin-right: 10px;">
    <i nz-icon nzType="printer" nzTheme="outline"></i>
    PRINT EMPTY SHEET
  </button>
  <button nz-button nzType="default" (click)="excel(); $event.preventDefault();" style="margin-right: 10px;">
    <i nz-icon nzType="file-excel" nzTheme="outline" style="color: #008141"></i> 
    EXPORT TO EXCEL
  </button>
  <button nz-button (click)="convertToPDF();" nzType="default" style="margin-right: 10px;">
    <span nz-icon nzType="file-pdf" nzTheme="outline" style="color: red;"></span>
    EXPORT TO PDF
  </button>
  <button nz-button nzType="primary" [useExistingCss]="true" printSectionId="report-section" #print ngxPrint>
    <i nz-icon nzType="printer" nzTheme="outline"></i>
    PRINT
  </button>
</div>
<nz-spin nzTip="Data Loading..." [nzSpinning]="isLoading">
  <div class="printLayout" id="report-section">
    <div>
      <div id="content" #content>
        <div class="printContent">
          <app-header-print></app-header-print>
          <div style="text-align: center;"><h2>FAMILY COMPOSITION</h2></div>
          <div class="content">
            <nz-descriptions nzTitle="I. Information for Head of the Family:">
              <nz-descriptions-item nzTitle="Name" [nzSpan]="3">
                <div class="border">
                  <div nz-row>
                    <div nz-col [nzSpan]="7">{{data?.last_name === '' ? '&nbsp;' : data?.last_name}}</div>
                    <div nz-col [nzSpan]="7">{{data?.first_name === '' ? '&nbsp;' : data?.first_name}}</div>
                    <div nz-col [nzSpan]="7">{{data?.middle_name === '' ? '&nbsp;' : data?.middle_name}}</div>
                    <!-- <div nz-col [nzSpan]="3">{{data?.prefix === '' ? '&nbsp;' : data?.prefix}}</div> -->
                  </div>
                </div>
              </nz-descriptions-item>
            </nz-descriptions>
    
            <div nz-row>
              <div nz-col [nzSpan]="1" style="margin-top: -12px;">
              </div>
              <div nz-col [nzSpan]="7" style="margin-top: -12px; font-weight: 500;">
                <span>Surname</span>
              </div>
              <div nz-col [nzSpan]="7" style="margin-top: -12px; font-weight: 500;">
                <span>First Name</span>
              </div>
              <div nz-col [nzSpan]="7" style="margin-top: -12px; font-weight: 500;">
                <span>Middle Name</span>
              </div>
            </div>
            
            <nz-descriptions>
              <nz-descriptions-item nzTitle="Sex" [nzSpan]="1">
                <div class="border">
                  <div nz-row>
                    <div nz-col [nzSpan]="24">{{data?.gender_name === '' ? '&nbsp;' : data?.gender_name}}</div>
                  </div>
                </div>
              </nz-descriptions-item>
              <nz-descriptions-item nzTitle="Age" [nzSpan]="1">
                <div class="border">
                  <div nz-row>
                    <div nz-col [nzSpan]="24">{{data?.age === '' ? '&nbsp;' : data?.age}}</div>
                  </div>
                </div>
              </nz-descriptions-item>
            </nz-descriptions>
    
            <nz-descriptions>
              <nz-descriptions-item nzTitle="Birth Date" [nzSpan]="1">
                <div class="border">
                  <div nz-row>
                    <div nz-col [nzSpan]="24">{{data?.birth_date === '' ? '&nbsp;' : data?.birth_date | date:'mediumDate'}}</div>
                  </div>
                </div>
              </nz-descriptions-item>
              <nz-descriptions-item nzTitle="Birth Place" [nzSpan]="2">
                <div class="border">
                  <div nz-row>
                    <div nz-col [nzSpan]="24">{{data?.place_of_birth === '' || data?.place_of_birth === null ? '&nbsp;' : data?.place_of_birth}}</div>
                  </div>
                </div>
              </nz-descriptions-item>
            </nz-descriptions>
    
            <nz-descriptions>
              <nz-descriptions-item nzTitle="Present Address" [nzSpan]="3">
                <div class="border">
                  <div nz-row>
                    <div nz-col [nzSpan]="24">{{data?.brgy_name}} {{data?.street}} , {{data?.city_mun_name}}, {{data?.province_name}}</div>
                  </div>
                </div>
              </nz-descriptions-item>
            </nz-descriptions>
    
            <nz-descriptions>
              <nz-descriptions-item nzTitle="Civil Status" [nzSpan]="1">
                <div class="border">
                  <div nz-row>
                    <div nz-col [nzSpan]="24">{{data?.civil_status_name === '' ? '&nbsp;' : data?.civil_status_name}}</div>
                  </div>
                </div>
              </nz-descriptions-item>
              <nz-descriptions-item nzTitle="Educational Attainment" [nzSpan]="2">
                <div class="border">
                  <div nz-row>
                    <div nz-col [nzSpan]="24">{{data?.educational_attainment === '' || data?.educational_attainment == 0 ? '&nbsp;' : data?.educational_name}}</div>
                  </div>
                </div>
              </nz-descriptions-item>
            </nz-descriptions>
    
            <nz-descriptions>
              <nz-descriptions-item nzTitle="Religion" [nzSpan]="3">
                <div class="border">
                  <div nz-row>
                    <div nz-col [nzSpan]="24">{{data?.religion === '' || data?.religion === null ? '&nbsp;' : data?.religion}}</div>
                  </div>
                </div>
              </nz-descriptions-item>
            </nz-descriptions>
    
            <nz-descriptions>
              <nz-descriptions-item nzTitle="Occupation" [nzSpan]="2">
                <div class="border">
                  <div nz-row>
                    <div nz-col [nzSpan]="24">{{data?.occupation === '' || data?.occupation === null ? '&nbsp;' : data?.occupation}}</div>
                  </div>
                </div>
              </nz-descriptions-item>
              <nz-descriptions-item nzTitle="Monthly Income" [nzSpan]="1">
                <div class="border">
                  <div nz-row>
                    <div nz-col [nzSpan]="24">&#8369; {{data?.monthly_income === '' ? '&nbsp;' : data?.monthly_income | number:'1.2-2'}}</div>
                  </div>
                </div>
              </nz-descriptions-item>
            </nz-descriptions>
    
            <nz-descriptions>
              <nz-descriptions-item nzTitle="Primary Contact" [nzSpan]="1.5">
                <div class="border">
                  <div nz-row>
                    <div nz-col [nzSpan]="24">{{data?.contact_no === '' || data?.contact_no === null ? '&nbsp;' : data?.contact_no}}</div>
                  </div>
                </div>
              </nz-descriptions-item>
              <nz-descriptions-item nzTitle="Secondary Contact" [nzSpan]="1.5">
                <div class="border">
                  <div nz-row>
                    <div nz-col [nzSpan]="24">{{data?.secondary_contact_no ? data?.secondary_contact_no : '&nbsp;' }}</div>
                  </div>
                </div>
              </nz-descriptions-item>
            </nz-descriptions>
    
            <nz-descriptions>
              <nz-descriptions-item nzTitle="4P's Member" [nzSpan]="1.5">
                <div class="border">
                  <div nz-row>
                    <div nz-col [nzSpan]="24">{{data?.fourps_member == 1 ? 'Yes' : 'No'}}</div>
                  </div>
                </div>
              </nz-descriptions-item>
              <nz-descriptions-item nzTitle="IP's(Type of Ethnicity)" [nzSpan]="1.5">
                <div class="border">
                  <div nz-row>
                    &nbsp;
                    <!-- <div nz-col [nzSpan]="24">{{data?.ips === '' ? '&nbsp;' : data?.ips}}</div> -->
                  </div>
                </div>
              </nz-descriptions-item>
            </nz-descriptions>
    
            <nz-descriptions nzTitle="Family Composition:"></nz-descriptions>
            <nz-table #basicTable [nzData]="['']" [nzFrontPagination]="false" nzBordered nzSize="small">
              <thead>
                <tr class="content-table-head">
                  <th>No</th>
                  <th>Name</th>
                  <th>Civil Status</th>
                  <th>Relation to Member</th>
                  <th>Educational Attainment</th>
                  <th>Occupation/Income</th>
                </tr>
              </thead>
              <tbody class="content-table-body">
                <ng-container *ngFor="let data of data?.details; let i=index;">
                  <tr>
                    <td>{{i+1}}.</td>
                    <td>{{data.prefix}} {{data.first_name}} {{data.middle_name}} {{data.last_name}} {{data.suffix}}</td>
                    <td>{{data.civil_status_name}}</td>
                    <td>{{data.relation}}</td>
                    <td>{{data.educational_attainment}}</td>
                    <td style="text-align: right;">{{data.occupation}}<span *ngIf="data.occupation">/</span><span *ngIf="data.occupation_income">&#8369;</span> {{data.occupation_income | number: '1.2-2'}}</td>
                  </tr>
                </ng-container>
              </tbody>
            </nz-table>
    
            <div nz-row>
              <div nz-col [nzSpan]="12"></div>
              <div nz-col [nzSpan]="12">
                <nz-descriptions>
                  <nz-descriptions-item nzTitle="Total Family Income" [nzSpan]="1.5">
                    <div class="border">
                      <div nz-row>
                        <div nz-col [nzSpan]="24" style="text-align: right;">&#8369; {{data?.total_family_income | number: '1.2-2'}}</div>
                      </div>
                    </div>
                  </nz-descriptions-item>
                </nz-descriptions>
              </div>
            </div>
    
            <div nz-row>
              <div nz-col [nzSpan]="12">
                <nz-descriptions>
                  <nz-descriptions-item nzTitle="Status of House Occupancy" [nzSpan]="1.5"></nz-descriptions-item>
                </nz-descriptions>
                <div nz-row>
                  <div nz-col [nzSpan]="12">
                    <nz-descriptions>
                      <nz-descriptions-item nzTitle="Owned" [nzSpan]="1.5">
                        <div class="border">
                          <div nz-row>
                            <div nz-col [nzSpan]="24">{{OwnedLabel}}</div>
                          </div>
                        </div>
                      </nz-descriptions-item>
                    </nz-descriptions>
                  </div>
                  <div nz-col [nzSpan]="12">
                    <nz-descriptions>
                      <nz-descriptions-item nzTitle="Rented" [nzSpan]="1.5">
                        <div class="border">
                          <div nz-row>
                            <div nz-col [nzSpan]="24">{{RentedLabel}}</div>
                          </div>
                        </div>
                      </nz-descriptions-item>
                    </nz-descriptions>
                  </div>
                </div>
                <nz-descriptions>
                  <nz-descriptions-item nzTitle="Estimated Cost of Property" [nzSpan]="1.5">
                    <div class="border">
                      <div nz-row>
                        <div nz-col [nzSpan]="24" style="text-align: right;">&#8369; {{data?.property_cost | number: '1.2-2'}}</div>
                      </div>
                    </div>
                  </nz-descriptions-item>
                </nz-descriptions>
              </div>
              <div nz-col [nzSpan]="12"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <app-footer-print></app-footer-print>
  </div>

  <div style="display: none;" class="printLayout" id="report-section-empty">
    <div class="printContent">
      <app-header-print></app-header-print>
      <div style="text-align: center;"><h2>FAMILY COMPOSITION</h2></div>
      <div class="content">
        <nz-descriptions nzTitle="I. Information for Head of the Family:">
          <nz-descriptions-item nzTitle="Name" [nzSpan]="3">
            <div class="border">
              <div nz-row>
                <div nz-col [nzSpan]="7">&nbsp;</div>
                <div nz-col [nzSpan]="7">&nbsp;</div>
                <div nz-col [nzSpan]="7">&nbsp;</div>
                <div nz-col [nzSpan]="3">&nbsp;</div>
              </div>
            </div>
          </nz-descriptions-item>
        </nz-descriptions>

        <div nz-row>
          <div nz-col [nzSpan]="1" style="margin-top: -12px;">
          </div>
          <div nz-col [nzSpan]="7" style="margin-top: -12px; font-weight: 500;">
            <span>Surname</span>
          </div>
          <div nz-col [nzSpan]="7" style="margin-top: -12px; font-weight: 500;">
            <span>First Name</span>
          </div>
          <div nz-col [nzSpan]="7" style="margin-top: -12px; font-weight: 500;">
            <span>Middle Name</span>
          </div>
        </div>
        
        <nz-descriptions>
          <nz-descriptions-item nzTitle="Sex" [nzSpan]="1">
            <div class="border">
              <div nz-row>
                <div nz-col [nzSpan]="24">&nbsp;</div>
              </div>
            </div>
          </nz-descriptions-item>
          <nz-descriptions-item nzTitle="Age" [nzSpan]="1">
            <div class="border">
              <div nz-row>
                <div nz-col [nzSpan]="24">&nbsp;</div>
              </div>
            </div>
          </nz-descriptions-item>
        </nz-descriptions>

        <nz-descriptions>
          <nz-descriptions-item nzTitle="Birth Date" [nzSpan]="1">
            <div class="border">
              <div nz-row>
                <div nz-col [nzSpan]="24">&nbsp;</div>
              </div>
            </div>
          </nz-descriptions-item>
          <nz-descriptions-item nzTitle="Birth Place" [nzSpan]="2">
            <div class="border">
              <div nz-row>
                <div nz-col [nzSpan]="24">&nbsp;</div>
              </div>
            </div>
          </nz-descriptions-item>
        </nz-descriptions>

        <nz-descriptions>
          <nz-descriptions-item nzTitle="Present Address" [nzSpan]="3">
            <div class="border">
              <div nz-row>
                <div nz-col [nzSpan]="24">&nbsp;</div>
              </div>
            </div>
          </nz-descriptions-item>
        </nz-descriptions>

        <nz-descriptions>
          <nz-descriptions-item nzTitle="Civil Status" [nzSpan]="1">
            <div class="border">
              <div nz-row>
                <div nz-col [nzSpan]="24">&nbsp;</div>
              </div>
            </div>
          </nz-descriptions-item>
          <nz-descriptions-item nzTitle="Educational Attainment" [nzSpan]="2">
            <div class="border">
              <div nz-row>
                <div nz-col [nzSpan]="24">&nbsp;</div>
              </div>
            </div>
          </nz-descriptions-item>
        </nz-descriptions>

        <nz-descriptions>
          <nz-descriptions-item nzTitle="Religion" [nzSpan]="3">
            <div class="border">
              <div nz-row>
                <div nz-col [nzSpan]="24">&nbsp;</div>
              </div>
            </div>
          </nz-descriptions-item>
        </nz-descriptions>

        <nz-descriptions>
          <nz-descriptions-item nzTitle="Occupation" [nzSpan]="2">
            <div class="border">
              <div nz-row>
                <div nz-col [nzSpan]="24">&nbsp;</div>
              </div>
            </div>
          </nz-descriptions-item>
          <nz-descriptions-item nzTitle="Monthly Income" [nzSpan]="1">
            <div class="border">
              <div nz-row>
                <div nz-col [nzSpan]="24">&nbsp;</div>
              </div>
            </div>
          </nz-descriptions-item>
        </nz-descriptions>

        <nz-descriptions>
          <nz-descriptions-item nzTitle="Primary Contact" [nzSpan]="1.5">
            <div class="border">
              <div nz-row>
                <div nz-col [nzSpan]="24">&nbsp;</div>
              </div>
            </div>
          </nz-descriptions-item>
          <nz-descriptions-item nzTitle="Secondary Contact" [nzSpan]="1.5">
            <div class="border">
              <div nz-row>
                <div nz-col [nzSpan]="24">&nbsp;</div>
              </div>
            </div>
          </nz-descriptions-item>
        </nz-descriptions>

        <nz-descriptions>
          <nz-descriptions-item nzTitle="4P's Member" [nzSpan]="1.5">
            <div class="border">
              <div nz-row>
                <div nz-col [nzSpan]="24">&nbsp;</div>
              </div>
            </div>
          </nz-descriptions-item>
          <nz-descriptions-item nzTitle="IP's(Type of Ethnicity)" [nzSpan]="1.5">
            <div class="border">
              <div nz-row>
                &nbsp;
                
              </div>
            </div>
          </nz-descriptions-item>
        </nz-descriptions>

        <nz-descriptions nzTitle="Family Composition:"></nz-descriptions>
        <nz-table #basicTable [nzData]="['']" [nzFrontPagination]="false" nzBordered nzSize="small">
          <thead>
            <tr class="content-table-head">
              <th>No</th>
              <th>Name</th>
              <th>Civil Status</th>
              <th>Relation to Member</th>
              <th>Educational Attainment</th>
              <th>Occupation/Income</th>
            </tr>
          </thead>
          <tbody class="content-table-body">
            <ng-container *ngFor="let data of data?.details; let i=index;">
              <tr>
                <td>{{i+1}}.</td>
                <td>&nbsp;</td>
                <td>&nbsp;</td>
                <td>&nbsp;</td>
                <td>&nbsp;</td>
                <td style="text-align: right;">&nbsp;</td>
              </tr>
            </ng-container>
          </tbody>
        </nz-table>

        <div nz-row>
          <div nz-col [nzSpan]="12"></div>
          <div nz-col [nzSpan]="12">
            <nz-descriptions>
              <nz-descriptions-item nzTitle="Total Family Income" [nzSpan]="1.5">
                <div class="border">
                  <div nz-row>
                    <div nz-col [nzSpan]="24" style="text-align: right;">&nbsp;</div>
                  </div>
                </div>
              </nz-descriptions-item>
            </nz-descriptions>
          </div>
        </div>

        <div nz-row>
          <div nz-col [nzSpan]="12">
            <nz-descriptions>
              <nz-descriptions-item nzTitle="Status of House Occupancy" [nzSpan]="1.5"></nz-descriptions-item>
            </nz-descriptions>
            <div nz-row>
              <div nz-col [nzSpan]="12">
                <nz-descriptions>
                  <nz-descriptions-item nzTitle="Owned" [nzSpan]="1.5">
                    <div class="border">
                      <div nz-row>
                        <div nz-col [nzSpan]="24">&nbsp;</div>
                      </div>
                    </div>
                  </nz-descriptions-item>
                </nz-descriptions>
              </div>
              <div nz-col [nzSpan]="12">
                <nz-descriptions>
                  <nz-descriptions-item nzTitle="Rented" [nzSpan]="1.5">
                    <div class="border">
                      <div nz-row>
                        <div nz-col [nzSpan]="24">&nbsp;</div>
                      </div>
                    </div>
                  </nz-descriptions-item>
                </nz-descriptions>
              </div>
            </div>
            <nz-descriptions>
              <nz-descriptions-item nzTitle="Estimated Cost of Property" [nzSpan]="1.5">
                <div class="border">
                  <div nz-row>
                    <div nz-col [nzSpan]="24" style="text-align: right;">&nbsp;</div>
                  </div>
                </div>
              </nz-descriptions-item>
            </nz-descriptions>
          </div>
          <div nz-col [nzSpan]="12"></div>
        </div>
        
      </div>
    </div>
    <app-footer-print></app-footer-print>
  </div>

</nz-spin>
