<nz-spin nzTip="Gathering Imformations..." [nzSpinning]="isLoading"  [nzSize]="'large'">
  <nz-spin nzTip="Saving..." [nzSpinning]="saveLoading"  [nzSize]="'large'">
    <div style="height: 100%;">
      <form nz-form [formGroup]="validateForm" (ngSubmit)="showConfirm(validateForm.value);$event.preventDefault()"

      >
        <nz-anchor [nzShowInkInFixed]="false" >
          <nz-page-header class="tops">
            <nz-page-header-title>Sanitary-Permit</nz-page-header-title>
            <nz-page-header-extra>
              <button nz-button nzType="primary" (click)="cancel(); $event.preventDefault();" nzDanger>
                <i nz-icon nzType="close"></i>
                Cancel
              </button>
              <button nz-button nzType="primary" [disabled]="!validateForm.valid">
                <i nz-icon nzType="save"></i>
                {{isEdit == true ? "Update & Exit" : "Save & Exit"}}
              </button>

            </nz-page-header-extra>
          </nz-page-header>
        </nz-anchor>

        <nz-tabset nzType="card">
          <nz-tab nzTitle="Application Form">
            <div nz-col="24">
              <nz-row>
                <div nz-col="12">

                    <div nz-row [nzGutter]="24">
                      <div  nz-col [nzSpan]="10">

                            <nz-card  nz-col [nzSpan]="24" class="card-1">

                                <nz-descriptions [nzColumn]="1" nzBordered nzTitle="Applicant" nzSize="small">
                                  <nz-descriptions-item nzTitle="Owner" [nzSpan]="2">
                                    {{businessData?.owner_name}}
                                  </nz-descriptions-item>
                                  <nz-descriptions-item nzTitle="Business Name" [nzSpan]="2">
                                    {{businessData?.business_name}}
                                  </nz-descriptions-item>
                                  <nz-descriptions-item nzTitle="Trade Name" [nzSpan]="2">
                                    {{businessData?.trade_name}}
                                  </nz-descriptions-item>
                                  <nz-descriptions-item nzTitle="Type of Business" [nzSpan]="2">
                                    {{businessData?.entity}}
                                  </nz-descriptions-item>
                                  <nz-descriptions-item nzTitle="Business Address" [nzSpan]="2">
                                    {{businessData?.building+", "+businessData?.street+", "+businessData?.brgy_name}}
                                  </nz-descriptions-item>
                                  <nz-descriptions-item nzTitle="Registration No." [nzSpan]="2">
                                    {{reg_no}}{{reg_date | date:'mmmm-dddd-yyyy'}}
                                  </nz-descriptions-item>
                                  <nz-descriptions-item nzTitle="Registration Date." [nzSpan]="2">
                                    {{reg_date | date:'mediumDate'}}
                                  </nz-descriptions-item>
                                </nz-descriptions>
                            </nz-card>

                      </div>


                      <div  nz-col [nzSpan]="14">
                        <nz-card nzTitle="Transaction Details">
                          <nz-row nzJustify="space-around" nzAlign="middle">
                            <div nz-col [nzSpan]="24">
                              <nz-form-item>
                                <nz-form-label [nzSpan]="5" nzRequired>Inspection Officer</nz-form-label>
                                <nz-form-control nzErrorTip="Please select Inspection Officer!">
                                  <nz-input-group>
                                    <nz-select style="width: 100%;" formControlName="sp_inspector" nzPlaceHolder="Select Inspector">
                                      <nz-option *ngFor="let lists of inspectorList" nzLabel="{{lists.employee_name}}" nzValue="{{lists.employee_id}}"></nz-option>
                                    </nz-select>
                                  </nz-input-group>
                                </nz-form-control>
                              </nz-form-item>
                            </div>

                            <div nz-col [nzSpan]="24">
                              <nz-form-item>
                                <nz-form-label [nzSpan]="5" nzRequired>Line of Business</nz-form-label>
                                <nz-form-control nzErrorTip="Please Type the Line of Business!">
                                  <nz-input-group>
                                    <input formControlName="sp_line_of_bsn" nz-input  />
                                  </nz-input-group>
                                </nz-form-control>
                              </nz-form-item>
                            </div>

                            <div nz-col [nzSpan]="12">
                              <nz-form-item>
                                <nz-form-label [nzSpan]="10" nzRequired>T.I.N.</nz-form-label>
                                <nz-form-control nzErrorTip="Please Type the T.I.N.!">
                                  <nz-input-group>
                                    <input formControlName="sp_tin_no" nz-input
                                    type="text"

                                    mask="000-000-000-000" />
                                  </nz-input-group>
                                </nz-form-control>
                              </nz-form-item>
                            </div>

                            <div nz-col [nzSpan]="12">
                              <nz-form-item>
                                <nz-form-label [nzSpan]="10" nzRequired>CTC No.</nz-form-label>
                                <nz-form-control nzErrorTip="Please Type the CTC No.!">
                                  <nz-input-group>
                                    <input formControlName="sp_ctc_no" nz-input
                                    mask="0000 00000000"

                                    type="text" />
                                  </nz-input-group>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col [nzSpan]="12">
                              <nz-form-item>
                                <nz-form-label [nzSpan]="10" nzRequired>P.I.N</nz-form-label>
                                <nz-form-control nzErrorTip="Please Type the P.I.N!">
                                  <nz-input-group>
                                    <input formControlName="sp_pin_no"
                                    mask="000-000-000-000"  nz-input [dropSpecialCharacters]="false"
                                    type="text" />
                                  </nz-input-group>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col [nzSpan]="12">

                            </div>

                            <div nz-col [nzSpan]="24">
                              <nz-form-item>
                                <nz-form-label [nzSpan]="5" nzRequired>Business Area</nz-form-label>
                                <nz-form-control nzErrorTip="Please Type the Busisness Area!">
                                  <nz-input-group>
                                    <input formControlName="sp_business_area" nz-input  />
                                  </nz-input-group>
                                </nz-form-control>
                              </nz-form-item>
                            </div>

                            <div nz-col [nzSpan]="24">
                              <nz-form-item>
                                <nz-form-label [nzSpan]="5">Telephone No.</nz-form-label>
                                <nz-form-control>
                                  <nz-input-group>
                                    <input formControlName="sp_tel_no" nz-input type="text"
                                    mask="(000) 000-0000"
                                    placeholder="e.g. (123) 456-7890"
                                    />
                                  </nz-input-group>
                                </nz-form-control>
                              </nz-form-item>
                            </div>

                            <div nz-col [nzSpan]="24">
                              <nz-form-item>
                                <nz-form-label [nzSpan]="5" nzRequired>Mobile No.</nz-form-label>
                                <nz-form-control
                                  [nzSm]="24"
                                  [nzXs]="24"
                                  [nzValidateStatus]="validateForm.controls['phoneNumber']"
                                  nzErrorTip="Please input your phone/mobile number!"
                                >
                                  <nz-input-group [nzAddOnBefore]="addOnBeforeTemplate">
                                    <ng-template #addOnBeforeTemplate>
                                      <nz-select formControlName="phoneNumberPrefix" class="phone-select" nzDisabled>
                                        <nz-option nzLabel="+63" nzValue="+63"></nz-option>
                                      </nz-select>
                                    </ng-template>
                                    <input formControlName="sp_mobile_no" id="'phoneNumber'" nz-input
                                    onKeyPress="if(this.value.length==10) return false;"
                                    oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');"
                                    />
                                  </nz-input-group>
                                </nz-form-control>
                              </nz-form-item>
                            </div>

                            <div nz-col [nzSpan]="24">
                              <nz-form-item>
                                <nz-form-label [nzSpan]="5" nzFor="email">Email Add.</nz-form-label>
                                <nz-form-control  nzErrorTip="The input is not valid E-mail!">
                                  <nz-input-group>
                                    <input formControlName="sp_email_add" nz-input id="email"/>
                                  </nz-input-group>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                          </nz-row>
                        </nz-card>
                        <br>
                        <nz-card nzTitle="Business Type">
                          <div nz-col [nzSpan]="24">
                              <nz-form-item>
                                <nz-form-label [nzSm]="5" [nzXs]="12" nzRequired>Type</nz-form-label>
                                <nz-form-control  [nzSm]="24" [nzXs]="24" nzErrorTip="Please select type of business!">
                                  <nz-radio-group [(ngModel)]="radioValue" formControlName="sp_business_type" >
                                    <label nz-radio nzValue="FOOD">FOOD</label>
                                    <label nz-radio nzValue="NON-FOOD">NON-FOOD</label>
                                    <label nz-radio nzValue="OTHERS">
                                      OTHERS...
                                      <input type="text" nz-input *ngIf="radioValue == 'OTHERS' " formControlName="sp_business_type_other" />
                                    </label>
                                  </nz-radio-group>

                                </nz-form-control>
                            </nz-form-item>
                            </div>
                        </nz-card>
                      </div>
                    </div>
                </div>
              </nz-row>
            </div>
          </nz-tab>

          <!-- <nz-tab nzTitle="Business Address">
            <nz-alert *ngIf="err_res" nzBanner nzType="error" [nzMessage]="err_message"></nz-alert>
              <div nz-col="24">

                  <div  nz-col [nzSpan]="12">
                    <nz-card>
                      <nz-row nzJustify="space-around" nzAlign="middle">


                          <div nz-col [nzSpan]="12">
                            <nz-form-item>
                              <nz-form-label [nzSpan]="10">House/Bldg No.</nz-form-label>
                              <nz-form-control nzErrorTip="Please input Name!">
                                <nz-input-group>
                                  <input formControlName="full_name" nz-input placeholder="Business Name" />
                                </nz-input-group>
                              </nz-form-control>
                            </nz-form-item>
                          </div>

                          <div nz-col [nzSpan]="12">
                            <nz-form-item>
                              <nz-form-label [nzSpan]="10">Unit No.</nz-form-label>
                              <nz-form-control nzErrorTip="Please input Name!">
                                <nz-input-group>
                                  <input formControlName="full_name" nz-input placeholder="Business Name" />
                                </nz-input-group>
                              </nz-form-control>
                            </nz-form-item>
                          </div>

                          <div nz-col [nzSpan]="24">
                            <nz-form-item>
                              <nz-form-label [nzSpan]="5">Street</nz-form-label>
                              <nz-form-control nzErrorTip="Please input Name!">
                                <nz-input-group>
                                  <textarea formControlName="full_name" nz-input placeholder="Fullname" ></textarea>
                                </nz-input-group>
                              </nz-form-control>
                            </nz-form-item>
                          </div>

                          <div nz-col [nzSpan]="24">
                            <nz-form-item>
                              <nz-form-label [nzSpan]="5">Subdivision</nz-form-label>
                              <nz-form-control nzErrorTip="Please input Name!">
                                <nz-input-group>
                                  <input formControlName="full_name" nz-input placeholder="Fullname" />
                                </nz-input-group>
                              </nz-form-control>
                            </nz-form-item>
                          </div>
                          <div nz-col [nzSpan]="24">
                            <nz-form-item>
                              <nz-form-label [nzSpan]="5">Province</nz-form-label>
                              <nz-form-control nzErrorTip="Please input Name!">
                                <nz-input-group>
                                  <nz-select style="width: 100%;"(ngModelChange)="provinceSelect($event)" formControlName="province_id" nzPlaceHolder="Select a province">
                                    <nz-option *ngFor="let list of provinceDropdown" nzLabel="{{list.province_name}}" nzValue="{{list.province_id}}"></nz-option>
                                  </nz-select>
                                </nz-input-group>
                              </nz-form-control>
                            </nz-form-item>
                          </div>
                          <div nz-col [nzSpan]="24">
                            <nz-form-item>
                              <nz-form-label [nzSpan]="5">Municipality/City</nz-form-label>
                              <nz-form-control nzErrorTip="Please select city/municipality!">
                                <nz-input-group>
                                  <nz-select style="width: 100%;" (ngModelChange)="cityMunSelect($event)" formControlName="citmun_id" nzPlaceHolder="Select a city/municipality">
                                    <nz-option *ngFor="let list of citymunDropdown" nzLabel="{{list.city_mun_name}}" nzValue="{{list.city_mun_id}}"></nz-option>
                                  </nz-select>
                                </nz-input-group>
                              </nz-form-control>
                            </nz-form-item>
                          </div>
                          <div nz-col [nzSpan]="24">
                            <nz-form-item>
                              <nz-form-label [nzSpan]="5">Barangay</nz-form-label>
                              <nz-form-control nzErrorTip="Please input Name!">
                                <nz-input-group>
                                  <nz-select style="width: 100%;" formControlName="barangay_id" nzPlaceHolder="Select a barangay">
                                    <ng-container *ngFor="let list of barangayDropdown">
                                    <nz-option type="number" nzLabel="{{list.brgy_name}}" nzValue="{{list.brgy_id}}"
                                    >
                                    </nz-option>

                                  </ng-container>
                                  </nz-select>
                                </nz-input-group>
                              </nz-form-control>
                            </nz-form-item>
                          </div>
                          <div nz-col [nzSpan]="24">
                            <nz-form-item>
                              <nz-form-label [nzSpan]="5">Zip Code</nz-form-label>
                              <nz-form-control nzErrorTip="Please input Name!">
                                <nz-input-group>
                                  <input formControlName="zip_code" nz-input placeholder="Zipcode" />
                                </nz-input-group>
                              </nz-form-control>
                            </nz-form-item>
                          </div>



                      </nz-row>
                    </nz-card>
                  </div>

              </div>
          </nz-tab> -->
        </nz-tabset>
        </form>
    </div>
  </nz-spin>
</nz-spin>


