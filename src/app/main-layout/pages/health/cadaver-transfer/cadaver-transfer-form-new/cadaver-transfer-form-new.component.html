<nz-spin nzTip="Data Loading..." [nzSpinning]="isLoading">
  <nz-spin nzTip="Saving..." [nzSpinning]="saveLoading">
    <div style="height: 100%;">
      <form nz-form [formGroup]="expForm" (ngSubmit)="showConfirm(expForm.value);$event.preventDefault()">
        <nz-anchor [nzShowInkInFixed]="false" >
          <nz-page-header>
            <nz-page-header-title>Cadaver Transfer Permit</nz-page-header-title>
            <nz-page-header-extra>
              <button nz-button nzType="primary" (click)="cancel(); $event.preventDefault();" nzDanger>
                <i nz-icon nzType="close"></i>
                Cancel
              </button>
              <button nz-button nzType="primary" class="button-form" [disabled]="!expForm.valid">
                <i nz-icon nzType="save"></i>
                {{buttonTitle}}
              </button>

            </nz-page-header-extra>
          </nz-page-header>
        </nz-anchor>

        <nz-tabset nzType="card">
          <nz-tab nzTitle="Transaction Form">
            <div nz-col="24">
              <nz-input-group>
                <div nz-row [nzGutter]="20">
                  <div nz-col [nzSpan]="10">
                    <nz-card nzType="inner" nzTitle="Applicant's Information">
                      <nz-descriptions [nzColumn]="1" nzBordered nzSize="small">
                        <nz-descriptions-item nzTitle="Full Name" [nzSpan]="1">
                          {{apl_fullname}}{{apl_suffix != null ? apl_suffix :""}}
                        </nz-descriptions-item>
                        <nz-descriptions-item nzTitle="Address" [nzSpan]="1">
                          {{apl_street != null ? apl_street+", " :""}}{{apl_address}}
                        </nz-descriptions-item>
                        <nz-descriptions-item nzTitle="Brith Date" [nzSpan]="1">
                          {{apl_bdate | date:'mediumDate'}}
                        </nz-descriptions-item>
                        <nz-descriptions-item nzTitle="Age" [nzSpan]="1">
                          {{apl_age}}
                        </nz-descriptions-item>
                        <nz-descriptions-item nzTitle="Gender" [nzSpan]="1">
                          {{apl_gender}}
                        </nz-descriptions-item>
                        <nz-descriptions-item nzTitle="Civis Status" [nzSpan]="1">
                          {{apl_cs}}
                        </nz-descriptions-item>
                        <nz-descriptions-item nzTitle="Contact #" [nzSpan]="1">
                          n/a
                        </nz-descriptions-item>
                      </nz-descriptions>
                  </nz-card>
                  </div>
                  <div nz-col [nzSpan]="14">

                        <div>
                          <nz-row >

                            <div nz-col [nzSpan]="24">
                              <nz-divider nzText="Transaction Details" nzOrientation="left"></nz-divider>
                            </div>
                            <div nz-col [nzSpan]="24"> <nz-form-label nzRequired>Sanitary Inspector</nz-form-label>
                              <nz-form-item>
                                <nz-form-control nzErrorTip="Please select Inspection Officer!">
                                  <nz-input-group>
                                    <nz-select style="width: 100%;" formControlName="ctp_inspector_id" nzPlaceHolder="Select Inspector">
                                      <nz-option *ngFor="let lists of inspectorList" nzLabel="{{lists.employee_name}}" nzValue="{{lists.employee_id}}"></nz-option>
                                    </nz-select>
                                  </nz-input-group>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col [nzSpan]="24"> <nz-form-label nzRequired>Cadaver's Name</nz-form-label>
                              <nz-form-item>

                                <nz-form-control nzErrorTip="Please input Name!">
                                  <nz-input-group>
                                    <input formControlName="ctp_cadaver_name" nz-input required [disabled]="exhumated"/>
                                  </nz-input-group>
                                </nz-form-control>
                              </nz-form-item>
                            </div>


                            <div nz-col [nzSpan]="24"><nz-form-label nzRequired>Current Burial Address</nz-form-label>
                              <nz-form-item>

                                <nz-form-control nzErrorTip="Please input Address!">
                                  <nz-input-group>
                                    <input formControlName="ctp_cadaver_curr_loc"  nz-input [disabled]="exhumated"/>
                                  </nz-input-group>
                                </nz-form-control>
                              </nz-form-item>
                            </div>

                            <div nz-col [nzSpan]="24"><nz-form-label nzRequired>New Burial Address</nz-form-label>
                              <nz-form-item>

                                <nz-form-control nzErrorTip="Please input Address!">
                                  <nz-input-group>
                                    <input formControlName="ctp_cadaver_new_loc" nz-input  />
                                  </nz-input-group>
                                </nz-form-control>
                              </nz-form-item>
                            </div>

                            <div nz-col [nzSpan]="18"> <nz-form-label >Remarks</nz-form-label>
                              <nz-form-item>

                                <nz-form-control nzErrorTip="Please input Name!">
                                  <nz-input-group>

                                    <textarea style="width: 100%;" formControlName="ctp_remarks"
                                    rows="4"
                                    ></textarea>
                                  </nz-input-group>
                                </nz-form-control>
                              </nz-form-item>
                            </div>

                          </nz-row>
                        </div>

                  </div>
                </div>
              </nz-input-group>
            </div>


          </nz-tab>
        </nz-tabset>
        </form>
    </div>
  </nz-spin>
</nz-spin>


